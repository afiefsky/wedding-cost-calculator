<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wedding Cost Calculator</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body.dark-mode {
      background-color: #121212;
      color: #f8f9fa;
    }
    .dark-mode .card {
      background-color: #1e1e1e;
      border-color: #343a40;
    }
    .dark-mode .btn {
      background-color: #6c757d;
      color: #f8f9fa;
    }
  </style>
</head>
<body class="bg-light">

<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Wedding Cost Calculator</h1>
    <button id="toggle-dark-mode" class="btn btn-secondary">Toggle Dark Mode</button>
  </div>

  <div class="card p-4">
    <form id="cost-form">
      <div class="mb-3">
        <label for="budget" class="form-label">Total Budget (Rp)</label>
        <input type="number" class="form-control" id="budget" placeholder="Enter your total budget in Rupiah" required>
      </div>
      <div id="categories">
        <!-- Categories are added dynamically -->
      </div>
      <button type="button" class="btn btn-primary mt-3" onclick="calculateCosts()">Calculate</button>
    </form>
  </div>

  <div class="mt-4">
    <h2>Results</h2>
    <ul id="results" class="list-group"></ul>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Dark Mode Toggle
  const darkModeButton = document.getElementById('toggle-dark-mode');
  darkModeButton.addEventListener('click', function() {
    document.body.classList.toggle('dark-mode');
    darkModeButton.textContent = document.body.classList.contains('dark-mode')
      ? 'Switch to Light Mode'
      : 'Switch to Dark Mode';
  });

  // Default Categories
  const categories = [
    { name: "Venue", percentage: 40 },
    { name: "Catering", percentage: 20 },
    { name: "Photography/Videography", percentage: 10 },
    { name: "Attire", percentage: 10 },
    { name: "Entertainment", percentage: 5 },
    { name: "Flowers/Decor", percentage: 5 },
    { name: "Invitations/Stationery", percentage: 3 },
    { name: "Miscellaneous", percentage: 7 }
  ];

  // Populate Categories in Form
  const categoryContainer = document.getElementById('categories');
  categories.forEach((category, index) => {
    const inputGroup = document.createElement('div');
    inputGroup.className = 'input-group mb-3';
    inputGroup.innerHTML = `
      <span class="input-group-text">${category.name} (${category.percentage}%)</span>
      <input type="number" class="form-control" id="category-${index}" disabled value="${category.percentage}">
    `;
    categoryContainer.appendChild(inputGroup);
  });

  // Format Number to Rupiah
  function formatRupiah(amount) {
    return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(amount);
  }

  // Calculate Costs
  function calculateCosts() {
    const budget = parseFloat(document.getElementById('budget').value);
    const resultsContainer = document.getElementById('results');
    resultsContainer.innerHTML = '';

    if (isNaN(budget) || budget <= 0) {
      alert('Please enter a valid total budget.');
      return;
    }

    categories.forEach(category => {
      const cost = (budget * category.percentage) / 100;
      const listItem = document.createElement('li');
      listItem.className = 'list-group-item';
      listItem.textContent = `${category.name}: ${formatRupiah(cost)}`;
      resultsContainer.appendChild(listItem);
    });
  }
</script>
</body>
</html>
